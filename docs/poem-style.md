# 诗文展示样式说明

本文档约定诗词详情页的**视觉样式与版式**，与设计系统（[design-system/poetry/MASTER.md](../design-system/poetry/MASTER.md)）及实现（如 [components/PoemReader.tsx](../components/PoemReader.tsx)）保持一致。视觉参考见本目录下的 **诗文样式.png**。

## 适用范围

- **诗词详情页**主内容区：标题、作者与朝代、正文（含字级拼音）。
- 不包含侧栏（纠错与完善、阅读设置、朗读、作者信息等）、译文/注释/赏析区块的独立版式（其显隐由阅读设置控制）。

## 布局与结构

内容在水平方向**居中对齐**，自上而下为：

1. **标题**：诗题，占顶部区域。
2. **作者与朝代**：紧接标题下方，朝代用方括号包裹（如 `[宋]黄彥平`）。
3. **正文**：诗句逐行展示，每行上方为对应拼音。

## 样式细则

### 标题

- **中文**：字号明显大于正文，字重偏粗；颜色为深灰/黑。
- **拼音**：显示在对应汉字上方（字级 ruby 或行上拼音）；颜色为较浅的蓝灰色，与中文形成对比。
- **对齐**：水平居中。

### 作者与朝代

- **朝代**：方括号内文字（如 `[宋]`）与拼音同用较浅蓝灰色，与作者名区分。
- **作者名**：深灰/黑色，字号小于标题、略大于正文。
- **拼音**：同上，浅蓝灰色，位于对应汉字上方。
- **对齐**：水平居中。

### 正文

- **诗句**：每句一行；中文使用衬线字体，字号适中、易读；颜色深灰/黑。
- **标点**：逗号（`，`）、句号（`。`）等随正文一起展示，不单独隐藏。
- **拼音**：每行诗句上方一行拼音，与汉字逐字/逐词对应；使用无衬线字体，字号略小；颜色浅蓝灰。
- **对齐**：每行（拼音 + 汉字）水平居中；行间留足间距，便于阅读。

### 整体

- **背景**：纯白或与设计系统一致的浅色背景。
- **字体**：中文正文使用衬线（宋体/楷体/书法/手写/艺术，由阅读设置切换，对应 `.font-poem-song` / `.font-poem-kai` 等）；拼音使用无衬线，保证清晰。
- **对比**：深色汉字 + 浅色拼音，保证可读性；开关「拼音标注」时可隐藏拼音（见 [tech-overview.md](tech-overview.md) 阅读设置）。

## 与阅读设置的关系

- **简繁**：对标题、作者、正文统一做简繁转换（OpenCC），不改变上述版式。
- **字体**：正文区在宋体/楷体/书法/手写/艺术间切换（`.font-poem-song` / `.font-poem-kai` 等），标题与作者可随正文或单独约定。
- **拼音显隐**：由「拼音标注」开关控制整块或字级拼音的显示/隐藏。
- **原文注解**：译文、注释、赏析区块的显隐，不影响标题+作者+正文的版式与样式。

## 参考实现与数据

- **实现**：详情页主内容由 `PoemReader` 等组件渲染；样式类见 `globals.css`（如 `.font-poem-kai`、`.font-poem-song`）及设计系统变量。
- **数据**：标题/作者/朝代/正文及拼音来自 [markdown-format.md](markdown-format.md) 约定的 .md；当前由 seed_db 使用的 loadAll 解析 .md 入库，详情页通过 lib/db 与 API 获取；拼音展示使用 Unicode 声调符号（如 nǐ），与「拼音」区块的声调数字格式在展示前可做转换。
